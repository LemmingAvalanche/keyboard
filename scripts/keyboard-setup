#!/bin/sh

# Set keyboard layouts and options relating to keyboard layouts
# This program expects three arguments, which are the keymappings to be
# sent to `setxkbmap` to be used as the three layouts.
#
# NOTE: the `-compat` option is so that level 2 latch works properly.
setxkbmap -option "" -layout "$1,$2,$3" \
         -compat my-complete \
         -option grp:sclk_toggle \
         -option grp_led:scroll :2 \
         -option nbsp:none -print |
             xkbcomp -I"/home/kristoffer/xkb/xkb-tree" - "$DISPLAY"
