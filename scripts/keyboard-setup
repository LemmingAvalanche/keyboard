#!/bin/sh

# Set keyboard layouts and options relating to keyboard layouts
#
# This program expects one argument, namely all the layouts separated by
# commas.  Passing in more than one layout is not recommended, since I
# want to be able to use all four groups per layout.
#
# Example usage:
#
#     keyboard-setup "twin-dexter(no-p6)"
#
# NOTE: the `-compat` option is so that level 2 latch works properly.
setxkbmap \
         -option "" \
         -layout "$1" \
         -compat my-complete \
         -option nbsp:none \
         -option numpad:mac \
         -types cas \
         -print |
             xkbcomp -I"/home/kristoffer/xkb/xkb-tree" - "$DISPLAY"
